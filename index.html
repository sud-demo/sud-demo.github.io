<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Sample project</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
  <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-messaging.js"></script>
</head>
<body>
  Sample project
</body>

<script>

const firebaseConfig = {
    apiKey: "AIzaSyB3tGRrqL9HkOkoSAtX-mHyX_MAZHXPvSk",
    authDomain: "scene-understanding-demo.firebaseapp.com",
    databaseURL: "https://scene-understanding-demo.firebaseio.com",
    projectId: "scene-understanding-demo",
    storageBucket: "scene-understanding-demo.appspot.com",
    messagingSenderId: "57759435763",
    appId: "1:57759435763:web:dffd864e17e0f782fd2086"
  };
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

const messaging = firebase.messaging();
messaging.requestPermission().then(() => {
  console.log('success granting permission');
  messaging.getToken().then((token) => {
    console.log('fcm token:', token);
  }).catch((e) => {
    console.error('get token error:', e);
  });
}).catch((e) => {
  console.error('failed to grant permission:', e);
});

messaging.onMessage((payload) => {
  console.log('Message received. ', payload);
  // ...
});

</script>
</html>
